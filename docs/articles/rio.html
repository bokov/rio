<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Import, Export, and Convert Data Files • rio</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Import, Export, and Convert Data Files">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rio</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.22</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rio.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leeper/rio">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Import, Export, and Convert Data Files</h1>
            
            <h4 class="date">2019-12-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/leeper/rio/blob/master/vignettes/rio.Rmd"><code>vignettes/rio.Rmd</code></a></small>
      <div class="hidden name"><code>rio.Rmd</code></div>

    </div>

    
    
<div id="import-export-and-convert-data-files" class="section level1">
<h1 class="hasAnchor">
<a href="#import-export-and-convert-data-files" class="anchor"></a>Import, Export, and Convert Data Files</h1>
<p>The idea behind <strong>rio</strong> is to simplify the process of importing data into R and exporting data from R. This process is, probably unnecessarily, extremely complex for beginning R users. Indeed, R supplies <a href="https://cran.r-project.org/doc/manuals/r-release/R-data.html">an entire manual</a> describing the process of data import/export. And, despite all of that text, most of the packages described are (to varying degrees) out-of-date. Faster, simpler, packages with fewer dependencies have been created for many of the file types described in that document. <strong>rio</strong> aims to unify data I/O (importing and exporting) into two simple functions: <code><a href="../reference/import.html">import()</a></code> and <code><a href="../reference/export.html">export()</a></code> so that beginners (and experienced R users) never have to think twice (or even once) about the best way to read and write R data.</p>
<p>The core advantage of <strong>rio</strong> is that it makes assumptions that the user is probably willing to make. Specifically, <strong>rio</strong> uses the file extension of a file name to determine what kind of file it is. This is the same logic used by Windows OS, for example, in determining what application is associated with a given file type. By taking away the need to manually match a file type (which a beginner may not recognize) to a particular import or export function, <strong>rio</strong> allows almost all common data formats to be read with the same function.</p>
<p>By making import and export easy, it’s an obvious next step to also use R as a simple data conversion utility. Transferring data files between various proprietary formats is always a pain and often expensive. The <code>convert</code> function therefore combines <code>import</code> and <code>export</code> to easily convert between file formats (thus providing a FOSS replacement for programs like <a href="https://www.stattransfer.com/">Stat/Transfer</a> or <a href="https://www.mtna.us/#/products/sledgehammer">Sledgehammer</a>).</p>
<div id="supported-file-formats" class="section level2">
<h2 class="hasAnchor">
<a href="#supported-file-formats" class="anchor"></a>Supported file formats</h2>
<p><strong>rio</strong> supports a variety of different file formats for import and export. To keep the package slim, all non-essential formats are supported via “Suggests” packages, which are not installed (or loaded) by default. To ensure rio is fully functional, install these packages the first time you use <strong>rio</strong> via:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="../reference/install_formats.html">install_formats</a></span>()</a></code></pre></div>
<p>The full list of supported formats is below:</p>
<table class="table">
<thead><tr class="header">
<th>Format</th>
<th>Typical Extension</th>
<th>Import Package</th>
<th>Export Package</th>
<th>Installed by Default</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Comma-separated data</td>
<td>.csv</td>
<td><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Pipe-separated data</td>
<td>.psv</td>
<td><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Tab-separated data</td>
<td>.tsv</td>
<td><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>SAS</td>
<td>.sas7bdat</td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>SPSS</td>
<td>.sav</td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Stata</td>
<td>.dta</td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>SAS XPORT</td>
<td>.xpt</td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>SPSS Portable</td>
<td>.por</td>
<td><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Excel</td>
<td>.xls</td>
<td><a href="https://cran.r-project.org/package=readxl"><strong>readxl</strong></a></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Excel</td>
<td>.xlsx</td>
<td><a href="https://cran.r-project.org/package=readxl"><strong>readxl</strong></a></td>
<td><a href="https://cran.r-project.org/package=openxlsx"><strong>openxlsx</strong></a></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>R syntax</td>
<td>.R</td>
<td><strong>base</strong></td>
<td><strong>base</strong></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Saved R objects</td>
<td>.RData, .rda</td>
<td><strong>base</strong></td>
<td><strong>base</strong></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Serialized R objects</td>
<td>.rds</td>
<td><strong>base</strong></td>
<td><strong>base</strong></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Epiinfo</td>
<td>.rec</td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Minitab</td>
<td>.mtp</td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Systat</td>
<td>.syd</td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>“XBASE” database files</td>
<td>.dbf</td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Weka Attribute-Relation File Format</td>
<td>.arff</td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Data Interchange Format</td>
<td>.dif</td>
<td><strong>utils</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Fortran data</td>
<td>no recognized extension</td>
<td><strong>utils</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Fixed-width format data</td>
<td>.fwf</td>
<td><strong>utils</strong></td>
<td><strong>utils</strong></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>gzip comma-separated data</td>
<td>.csv.gz</td>
<td><strong>utils</strong></td>
<td><strong>utils</strong></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>CSVY (CSV + YAML metadata header)</td>
<td>.csvy</td>
<td><a href="https://cran.r-project.org/package=csvy"><strong>csvy</strong></a></td>
<td><a href="https://cran.r-project.org/package=csvy"><strong>csvy</strong></a></td>
<td>No</td>
</tr>
<tr class="even">
<td>Apache Arrow (Parquet)</td>
<td>.parquet</td>
<td><a href="https://cran.r-project.org/package=arrow"><strong>arrow</strong></a></td>
<td><a href="https://cran.r-project.org/package=arrow"><strong>arrow</strong></a></td>
<td>No</td>
</tr>
<tr class="odd">
<td>EViews</td>
<td>.wf1</td>
<td><a href="https://cran.r-project.org/package=hexView"><strong>hexView</strong></a></td>
<td></td>
<td>No</td>
</tr>
<tr class="even">
<td>Feather R/Python interchange format</td>
<td>.feather</td>
<td><a href="https://cran.r-project.org/package=feather"><strong>feather</strong></a></td>
<td><a href="https://cran.r-project.org/package=feather"><strong>feather</strong></a></td>
<td>No</td>
</tr>
<tr class="odd">
<td>Fast Storage</td>
<td>.fst</td>
<td><a href="https://cran.r-project.org/package=fst"><strong>fst</strong></a></td>
<td><a href="https://cran.r-project.org/package=fst"><strong>fst</strong></a></td>
<td>No</td>
</tr>
<tr class="even">
<td>JSON</td>
<td>.json</td>
<td><a href="https://cran.r-project.org/package=jsonlite"><strong>jsonlite</strong></a></td>
<td><a href="https://cran.r-project.org/package=jsonlite"><strong>jsonlite</strong></a></td>
<td>No</td>
</tr>
<tr class="odd">
<td>Matlab</td>
<td>.mat</td>
<td><a href="https://cran.r-project.org/package=rmatio"><strong>rmatio</strong></a></td>
<td><a href="https://cran.r-project.org/package=rmatio"><strong>rmatio</strong></a></td>
<td>No</td>
</tr>
<tr class="even">
<td>OpenDocument Spreadsheet</td>
<td>.ods</td>
<td><a href="https://cran.r-project.org/package=readODS"><strong>readODS</strong></a></td>
<td><a href="https://cran.r-project.org/package=readODS"><strong>readODS</strong></a></td>
<td>No</td>
</tr>
<tr class="odd">
<td>HTML Tables</td>
<td>.html</td>
<td><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td>No</td>
</tr>
<tr class="even">
<td>Shallow XML documents</td>
<td>.xml</td>
<td><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td>No</td>
</tr>
<tr class="odd">
<td>YAML</td>
<td>.yml</td>
<td><a href="https://cran.r-project.org/package=yaml"><strong>yaml</strong></a></td>
<td><a href="https://cran.r-project.org/package=yaml"><strong>yaml</strong></a></td>
<td>No</td>
</tr>
<tr class="even">
<td>Clipboard</td>
<td>default is tsv</td>
<td><a href="https://cran.r-project.org/package=clipr"><strong>clipr</strong></a></td>
<td><a href="https://cran.r-project.org/package=clipr"><strong>clipr</strong></a></td>
<td>No</td>
</tr>
<tr class="odd">
<td><a href="https://www.google.com/sheets/about/">Google Sheets</a></td>
<td>as Comma-separated data</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Additionally, any format that is not supported by <strong>rio</strong> but that has a known R implementation will produce an informative error message pointing to a package and import or export function. Unrecognized formats will yield a simple “Unrecognized file format” error.</p>
</div>
<div id="data-import" class="section level2">
<h2 class="hasAnchor">
<a href="#data-import" class="anchor"></a>Data Import</h2>
<p><strong>rio</strong> allows you to import files in almost any format using one, typically single-argument, function. <code><a href="../reference/import.html">import()</a></code> infers the file format from the file’s extension and calls the appropriate data import function for you, returning a simple data.frame. This works for any for the formats listed above.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"rio"</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3">x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/import.html">import</a></span>(<span class="st">"mtcars.csv"</span>)</a>
<a class="sourceLine" id="cb2-4" title="4">y &lt;-<span class="st"> </span><span class="kw"><a href="../reference/import.html">import</a></span>(<span class="st">"mtcars.rds"</span>)</a>
<a class="sourceLine" id="cb2-5" title="5">z &lt;-<span class="st"> </span><span class="kw"><a href="../reference/import.html">import</a></span>(<span class="st">"mtcars.dta"</span>)</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co"># confirm identical</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="kw"><a href="https://rdrr.io/r/base/all.equal.html">all.equal</a></span>(x, y, <span class="dt">check.attributes =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/all.equal.html">all.equal</a></span>(x, z, <span class="dt">check.attributes =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>If for some reason a file does not have an extension, or has a file extension that does not match its actual type, you can manually specify a file format to override the format inference step. For example, we can read in a CSV file that does not have a file extension by specifying <code>csv</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw"><a href="../reference/import.html">import</a></span>(<span class="st">"mtcars_noext"</span>, <span class="dt">format =</span> <span class="st">"csv"</span>))</a></code></pre></div>
<pre><code>##    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## 1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## 2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## 3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## 4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## 5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## 6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<div id="importing-data-lists" class="section level3">
<h3 class="hasAnchor">
<a href="#importing-data-lists" class="anchor"></a>Importing Data Lists</h3>
<p>Sometimes you may have multiple data files that you want to import. <code><a href="../reference/import.html">import()</a></code> only ever returns a single data frame, but <code><a href="../reference/import_list.html">import_list()</a></code> can be used to import a vector of file names into R. This works even if the files are different formats:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="kw"><a href="../reference/import_list.html">import_list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.files.html">dir</a></span>()), <span class="dv">1</span>)</a></code></pre></div>
<p>Similarly, some single-file formats (e.g. Excel Workbooks, Zip directories, HTML files, etc.) can contain multiple data sets. Because <code><a href="../reference/import.html">import()</a></code> is type safe, always returning a data frame, importing from these formats requires specifying a <code>which</code> argument to <code><a href="../reference/import.html">import()</a></code> to dictate which data set (worksheet, file, table, etc.) to import (the default being <code>which = 1</code>). But <code><a href="../reference/import_list.html">import_list()</a></code> can be used to import all (or only a specified subset, again via <code>which</code>) of data objects from these types of files.</p>
</div>
</div>
<div id="data-export" class="section level2">
<h2 class="hasAnchor">
<a href="#data-export" class="anchor"></a>Data Export</h2>
<p>The export capabilities of <strong>rio</strong> are somewhat more limited than the import capabilities, given the availability of different functions in various R packages and because import functions are often written to make use of data from other applications and it never seems to be a development priority to have functions to export to the formats used by other applications. That said, <strong>rio</strong> currently supports the following formats:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"rio"</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw"><a href="../reference/export.html">export</a></span>(mtcars, <span class="st">"mtcars.csv"</span>)</a>
<a class="sourceLine" id="cb9-4" title="4"><span class="kw"><a href="../reference/export.html">export</a></span>(mtcars, <span class="st">"mtcars.rds"</span>)</a>
<a class="sourceLine" id="cb9-5" title="5"><span class="kw"><a href="../reference/export.html">export</a></span>(mtcars, <span class="st">"mtcars.dta"</span>)</a></code></pre></div>
<p>It is also easy to use <code><a href="../reference/export.html">export()</a></code> as part of an R pipeline (from magrittr or dplyr). For example, the following code uses <code><a href="../reference/export.html">export()</a></code> to save the results of a simple data transformation:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"magrittr"</span>)</a>
<a class="sourceLine" id="cb10-2" title="2">mtcars <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/subset.html">subset</a></span>(hp <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span>(. <span class="op">~</span><span class="st"> </span>cyl <span class="op">+</span><span class="st"> </span>am, <span class="dt">data =</span> ., <span class="dt">FUN =</span> mean) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/export.html">export</a></span>(<span class="dt">file =</span> <span class="st">"mtcars2.dta"</span>)</a></code></pre></div>
<p>Some file formats (e.g., Excel workbooks, Rdata files) can support multiple data objects in a single file. <code><a href="../reference/export.html">export()</a></code> natively supports output of multiple objects to these types of files:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># export to sheets of an Excel workbook</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw"><a href="../reference/export.html">export</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mtcars =</span> mtcars, <span class="dt">iris =</span> iris), <span class="st">"multi.xlsx"</span>)</a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># export to an .Rdata file</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co">## as a named list</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="kw"><a href="../reference/export.html">export</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mtcars =</span> mtcars, <span class="dt">iris =</span> iris), <span class="st">"multi.rdata"</span>)</a>
<a class="sourceLine" id="cb12-4" title="4"></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">## as a character vector</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="kw"><a href="../reference/export.html">export</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"mtcars"</span>, <span class="st">"iris"</span>), <span class="st">"multi.rdata"</span>)</a></code></pre></div>
<p>It is also possible to use the new (as of v0.6.0) function <code><a href="../reference/export_list.html">export_list()</a></code> to write a list of data frames to multiple files using either a vector of file names or a file pattern:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw"><a href="../reference/export_list.html">export_list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mtcars =</span> mtcars, <span class="dt">iris =</span> iris), <span class="st">"%s.tsv"</span>)</a></code></pre></div>
</div>
<div id="file-conversion" class="section level2">
<h2 class="hasAnchor">
<a href="#file-conversion" class="anchor"></a>File Conversion</h2>
<p>The <code><a href="../reference/convert.html">convert()</a></code> function links <code><a href="../reference/import.html">import()</a></code> and <code><a href="../reference/export.html">export()</a></code> by constructing a dataframe from the imported file and immediately writing it back to disk. <code><a href="../reference/convert.html">convert()</a></code> invisibly returns the file name of the exported file, so that it can be used to programmatically access the new file.</p>
<p>Because <code><a href="../reference/convert.html">convert()</a></code> is just a thin wrapper for <code><a href="../reference/import.html">import()</a></code> and <code><a href="../reference/export.html">export()</a></code>, it is very easy to use. For example, we can convert</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># create file to convert</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw"><a href="../reference/export.html">export</a></span>(mtcars, <span class="st">"mtcars.dta"</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co"># convert Stata to SPSS</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="kw"><a href="../reference/convert.html">convert</a></span>(<span class="st">"mtcars.dta"</span>, <span class="st">"mtcars.sav"</span>)</a></code></pre></div>
<p><code><a href="../reference/convert.html">convert()</a></code> also accepts lists of arguments for controlling import (<code>in_opts</code>) and export (<code>out_opts</code>). This can be useful for passing additional arguments to import or export methods. This could be useful, for example, for reading in a fixed-width format file and converting it to a comma-separated values file:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># create an ambiguous file</span></a>
<a class="sourceLine" id="cb15-2" title="2">fwf &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span>(<span class="dt">fileext =</span> <span class="st">".fwf"</span>)</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="dt">file =</span> fwf, <span class="st">"123456"</span>, <span class="st">"987654"</span>, <span class="dt">sep =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</a>
<a class="sourceLine" id="cb15-4" title="4"></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co"># see two ways to read in the file</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="kw"><a href="https://rdrr.io/r/base/identical.html">identical</a></span>(<span class="kw"><a href="../reference/import.html">import</a></span>(fwf, <span class="dt">widths =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)), <span class="kw"><a href="../reference/import.html">import</a></span>(fwf, <span class="dt">widths =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">3</span>)))</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># convert to CSV</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw"><a href="../reference/convert.html">convert</a></span>(fwf, <span class="st">"fwf.csv"</span>, <span class="dt">in_opts =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">widths =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="kw"><a href="../reference/import.html">import</a></span>(<span class="st">"fwf.csv"</span>) <span class="co"># check conversion</span></a></code></pre></div>
<pre><code>##   V1 V2  V3
## 1  1 23 456
## 2  9 87 654</code></pre>
<p>With metadata-rich file formats (e.g., Stata, SPSS, SAS), it can also be useful to pass imported data through <code><a href="../reference/characterize.html">characterize()</a></code> or <code><a href="../reference/characterize.html">factorize()</a></code> when converting to an open, text-delimited format: <code><a href="../reference/characterize.html">characterize()</a></code> converts a single variable or all variables in a data frame that have “labels” attributes into character vectors based on the mapping of values to value labels (e.g., <code><a href="../reference/export.html">export(characterize(import("file.dta")), "file.csv")</a></code>). An alternative approach is exporting to CSVY format, which records metadata in a YAML-formatted header at the beginning of a CSV file.</p>
<p>It is also possible to use <strong>rio</strong> on the command-line by calling <code>Rscript</code> with the <code>-e</code> (expression) argument. For example, to convert a file from Stata (.dta) to comma-separated values (.csv), simply do the following:</p>
<pre><code>Rscript -e "rio::convert('mtcars.dta', 'mtcars.csv')"</code></pre>
</div>
<div id="package-philosophy" class="section level2">
<h2 class="hasAnchor">
<a href="#package-philosophy" class="anchor"></a>Package Philosophy</h2>
<p>The core advantage of <strong>rio</strong> is that it makes assumptions that the user is probably willing to make. Eight of these are important:</p>
<ol style="list-style-type: decimal">
<li>
<strong>rio</strong> uses the file extension of a file name to determine what kind of file it is. This is the same logic used by Windows OS, for example, in determining what application is associated with a given file type. By removing the need to manually match a file type (which a beginner may not recognize) to a particular import or export function, <strong>rio</strong> allows almost all common data formats to be read with the same function. And if a file extension is incorrect, users can force a particular import method by specifying the <code>format</code> argument. Other packages do this as well, but <strong>rio</strong> aims to be more complete and more consistent than each:</li>
</ol>
<ul>
<li>
<a href="https://cran.r-project.org/package=reader"><strong>reader</strong></a> handles certain text formats and R binary files</li>
<li>
<a href="https://cran.r-project.org/package=io"><strong>io</strong></a> offers a set of custom formats</li>
<li>
<a href="https://cran.r-project.org/package=ImportExport"><strong>ImportExport</strong></a> focuses on select binary formats (Excel, SPSS, and Access files) and provides a Shiny interface.</li>
<li>
<a href="https://cran.r-project.org/package=SchemaOnRead"><strong>SchemaOnRead</strong></a> iterates through a large number of possible import methods until one works successfully</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><p><strong>rio</strong> uses <code><a href="https://rdrr.io/pkg/data.table/man/fread.html">data.table::fread()</a></code> for text-delimited files to automatically determine the file format regardless of the extension. So, a CSV that is actually tab-separated will still be correctly imported. It’s also crazy fast.</p></li>
<li><p><strong>rio</strong>, wherever possible, does not import character strings as factors.</p></li>
<li><p><strong>rio</strong> supports web-based imports natively, including from SSL (HTTPS) URLs, from shortened URLs, from URLs that lack proper extensions, and from (public) Google Documents Spreadsheets.</p></li>
<li><p><strong>rio</strong> imports from from single-file .zip and .tar archives automatically, without the need to explicitly decompress them. Export to compressed directories is also supported.</p></li>
<li><p><strong>rio</strong> wraps a variety of faster, more stream-lined I/O packages than those provided by base R or the <strong>foreign</strong> package. It uses <a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a> for delimited formats, <a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a> for SAS, Stata, and SPSS files, smarter and faster fixed-width file import and export routines, and <a href="https://cran.r-project.org/package=readxl"><strong>readxl</strong></a> and <a href="https://cran.r-project.org/package=openxlsx"><strong>openxlsx</strong></a> for reading and writing Excel workbooks.</p></li>
<li>
<p><strong>rio</strong> stores metadata from rich file formats (SPSS, Stata, etc.) in variable-level attributes in a consistent form regardless of file type or underlying import function. These attributes are identified as:</p>
<ul>
<li>
<code>label</code>: a description of variable</li>
<li>
<code>labels</code>: a vector mapping numeric values to character strings those values represent</li>
<li>
<code>format</code>: a character string describing the variable storage type in the original file</li>
</ul>
<p>The <code><a href="../reference/gather_attrs.html">gather_attrs()</a></code> function makes it easy to move variable-level attributes to the data frame level (and <code><a href="../reference/gather_attrs.html">spread_attrs()</a></code> reverses that gathering process). These can be useful, especially, during file conversion to more easily modify attributes that are handled differently across file formats. As an example, the following idiom can be used to trim SPSS value labels to the 32-character maximum allowed by Stata:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gather_attrs.html">gather_attrs</a></span>(rio<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span>(<span class="st">"data.sav"</span>))</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(dat, <span class="st">"labels"</span>) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span>(dat)<span class="op">$</span>labels, <span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb20-3" title="3">    <span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span>(x)) {</a>
<a class="sourceLine" id="cb20-4" title="4">        <span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(x) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/substr.html">substring</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(x), <span class="dv">1</span>, <span class="dv">32</span>)</a>
<a class="sourceLine" id="cb20-5" title="5">    }</a>
<a class="sourceLine" id="cb20-6" title="6">    x</a>
<a class="sourceLine" id="cb20-7" title="7">})</a>
<a class="sourceLine" id="cb20-8" title="8"><span class="kw"><a href="../reference/export.html">export</a></span>(<span class="kw"><a href="../reference/gather_attrs.html">spread_attrs</a></span>(dat), <span class="st">"data.dta"</span>)</a></code></pre></div>
<p>In addition, two functions (added in v0.5.5) provide easy ways to create character and factor variables from these “labels” attributes. <code><a href="../reference/characterize.html">characterize()</a></code> converts a single variable or all variables in a data frame that have “labels” attributes into character vectors based on the mapping of values to value labels. <code><a href="../reference/characterize.html">factorize()</a></code> does the same but returns factor variables. This can be especially helpful for converting these rich file formats into open formats (e.g., <code><a href="../reference/export.html">export(characterize(import("file.dta")), "file.csv")</a></code>.</p>
</li>
<li><p><strong>rio</strong> imports and exports files based on an internal S3 class infrastructure. This means that other packages can contain extensions to <strong>rio</strong> by registering S3 methods. These methods should take the form <code>.import.rio_X()</code> and <code>.export.rio_X()</code>, where <code>X</code> is the file extension of a file type. An example is provided in the <a href="https://github.com/leeper/rio.db">rio.db package</a>.</p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#import-export-and-convert-data-files">Import, Export, and Convert Data Files</a><ul class="nav nav-pills nav-stacked">
<li><a href="#supported-file-formats">Supported file formats</a></li>
      <li><a href="#data-import">Data Import</a></li>
      <li><a href="#data-export">Data Export</a></li>
      <li><a href="#file-conversion">File Conversion</a></li>
      <li><a href="#package-philosophy">Package Philosophy</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Chung-hong Chan, Thomas J. Leeper.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
